set abort_unmodified  = yes                 # Automatically abort unedited replies
set alias_file        = $HOME/.mutt/aliases # Where to keep aliases
set arrow_cursor      = yes                 # Use -> instead of highlighting selected line
set autoedit          = yes                 # Go immediately to editor when composing
set copy              = yes                 # Always save a copy of outgoing messages
set delete            = yes                 # Purge deleted messages without asking
set edit_headers      = no                  # Edit the message header when composing
set editor            = vim
set fast_reply        = no                  # Skip initial prompts when replying
set folder            = "$HOME/.mail"       # Directory of new folder
set folder_format     = "%2C %t %N %F %2l %-8.8u %-8.8g %8s %d %f"
set help              = no                  # Show the help lines
set include           = yes                 # Always include messages when replying
set indent_string     = ">"                 # How to quote replied text
set mailcap_path      = "$HOME/.mutt/mailcap"
set nomark_old                              # Don't mark messages as old; new/read is enough
set markers           = no                  # No '+' for lines that wrap
set mbox_type         = Maildir             # Needed for maildir format
set metoo             = yes                 # Remove my address when replying
set mime_forward      = yes                 # Use message/rfc822 type to forward messages
set move              = no                  # Don't move messages
set pager             = builtin             # Location of an external pager
set print             = ask-yes             # ask me if I really want to print messages
set query_command     = "goobook query '%s'"
set quit              = yes                 # No further input after wanting to quit
set read_inc          = 25                  # Increment to show progress when reading mailbox
set recall            = ask-yes             # Prompt to recall postponed messages
set record            = +outbox             # Default location to save outgoing mail
set reply_to          = yes                 # Always use reply-to if present
set reply_regexp      = "^(re:[ \t]*)+"     # How to identify replies in the subject:
set reverse_alias     = yes                 # Attempt to look up my names for people
set reverse_name      = yes                 # Use my address as appears in reply-to message
set save_name         = yes                 # Save outgoing messages by recipient
set sendmail_wait     = 0                   # Wait for msmtp to return
set sig_on_top        = yes
set signature         = "$HOME/.signature"  # File which contains my signature
set sort              = threads             # Primary sorting method
set sort_aux          = last-date           # Date of the last message in thread
set sort_browser      = reverse-date        # How to sort files in the dir browser
set text_flowed       = yes                 # Wrap lines for better viewing in other clients
set tilde             = yes                 # Virtual lines to pad blank lines in the pager
set timeout           = 3                   # Idle time before scanning (seconds)
set tmpdir            = $HOME/.mutt/tmp     # Where to store temp files
set use_from          = yes                 # Change the from address in the editor
set virtual_spoolfile = yes                 # Use Notmuch inbox

# Source account configurations
folder-hook "com.matthewwynn.matthew"    "source $HOME/.mutt/accounts/com.matthewwynn.matthew.rc"
folder-hook "edu.utdallas.mwynn"         "source $HOME/.mutt/accounts/edu.utdallas.mwynn.rc"
folder-hook "notmuch://?query=tag:inbox" "source $HOME/.mutt/accounts/unified.rc"

reply-hook "~t .*@utdallas.edu" "source $HOME/.mutt/accounts/edu.utdallas.mwynn.rc"
reply-hook "~t matthew@matthewwynn.com" "source $HOME/.mutt/accounts/com.matthewwynn.matthew.rc"

macro index,pager <f2> '<change-folder>notmuch://?query=tag:inbox<enter>'
macro index,pager <f3> '<enter-command>source ~/.mutt/accounts/com.matthewwynn.matthew.rc<enter><change-folder>!<enter>'
macro index,pager <f4> '<enter-command>source ~/.mutt/accounts/edu.utdallas.mwynn.rc<enter><change-folder>!<enter>'
macro index,pager a "<pipe-message>goobook add<return>" "add sender to google contacts"

bind editor <Tab> complete-query

#alternates "(matthew@matthewwynn\.com)|(mwynn@utdallas\.edu)|(maw140130@utdallas\.edu)"

# Source external files
source $HOME/.mutt/pgp.rc               # PGP configuration
source $HOME/.mutt/crypt.rc             # Cryptographics configuration
source $HOME/.mutt/headers.rc           # Configure header display
source $HOME/.mutt/keybindings.rc       # Configure key bindings
source $HOME/.mutt/colors.rc            # Colors!
source $HOME/.mutt/accounts/unified.rc  # Notmuch mailboxes

save-hook ^judge +diplomacy

auto_view text/html
alternative_order text/plain text/enriched text/html

